{"version":3,"sources":["tabs.js"],"names":["each","el","cb","i","length","call","this","closest","what","newel","toUpperCase","parentNode","nodeName","Tablist","ul","my","lis","getElementsByTagName","querySelectorAll","contains","classList","c","setAttribute","t","document","getElementById","tabs","addEventListener","e","preventDefault","swapTab","getAttribute","prototype","getTabByName","name","tab","tid","substring","which","cur","querySelector","newt","curb","cur_target","new_target","tmp","remove","add","window"],"mappings":"cAAA,WAEC,GAAAA,GAAW,SAAAC,EAAAC,GAGR,IAAK,GAAIC,GAAI,EAAGA,EAAIF,EAAGG,QADnBJ,EAAOK,KAAAC,KAAPN,EAAgBC,EAATE,OAAiB,EACGA,OADjCI,EAAA,SAAAN,EAAAO,GASE,GAAIC,GAAQR,CADdO,GAAMD,EAAUG,aAEdF,GAGEC,IAAAA,EAAQA,EAAME,YAAdF,EAGE,YAAAA,EAAAG,WAAAJ,EAEH,OANDC,IAJFI,EAAA,SAAAC,GAgBE,GAAMC,GAAKT,IAAXA,MAAMS,GAAKD,EAGXR,KAAKU,IAAMV,KAAKQ,GAAGG,qBAAqB,MADxCX,KAAKQ,KAALR,KAAAQ,GAAAI,iBAAA,gBAKAlB,EAAKM,KAAKU,IAAK,SAACb,EAAGF,GAAnBD,IAAKC,EAAKe,UAAKG,SAAIlB,UAAO,CACxB,GAAKA,GAAGmB,EAAAA,iBAAmB,eAGzB,KAAKC,IAAMA,EAAEjB,OAAb,MAIAiB,GAAIA,EAAE,GAANA,EAAAA,aAAA,iBAAA,GACAA,EAAEC,EAAAA,aAAa,gBAGf,IAAIC,GAAIC,SAASC,eAAeJ,EAAhCE,GAAAD,aAAQE,eAASC,MAMrBzB,EAAKM,KAAKoB,KAAM,SAAAvB,EAAAF,GACdA,EAAG0B,iBAAiB,QAAS,SAAAC,GAG3B,MAFAA,GAAEC,iBACFd,EAAGe,QAAQxB,KAAKyB,aAAa,mBACtB,IACN,KAIPlB,GAAQmB,UAAUC,aAAe,SAAUC,GACzC,GAAIC,GAAAA,MAUJ,OARAnC,GAAKM,KAAKoB,KAAM,SAAAvB,EAAAF,GACd,GAAMmC,GAAMnC,EAAG8B,aAAa,MAAMM,UAAlC,EACA,IAAID,IAAQF,EAEV,MADAC,GAAMlC,GACC,IAIJkC,GAGTtB,EAAQmB,UAAUF,QAAU,SAAAQ,GAC1B,GAAMC,GAAMjC,KAAAQ,GAAQ0B,cAAc,0BAC5BC,EAAOnC,KAAAQ,GAAQ0B,cAAc,kBAAoBF,EAAQ,IAE/D,IAAoB,IAAhBG,EAAKrC,OAAT,CAIA,GAAImC,EAAInC,OAAQ,CACd,GAAIsC,GAAOH,EAAIR,aAAa,gBAE5B,IAAIW,IAASJ,EACX,OAAO,EAIX,GAAMK,GAAanB,SAASgB,cAAc,OAASD,EAAIR,aAAa,iBAAmB,KACjFa,EAAapB,SAASgB,cAAc,OAASC,EAAKV,aAAa,iBAAmB,KAEpFc,EAAMtC,EAAQgC,EAAK,KACvBM,GAAIzB,UAAU0B,OAAO,UACrBP,EAAIjB,aAAa,iBAAiB,GAClCqB,EAAWrB,aAAa,eAAe,GAEvCuB,EAAMtC,EAAQkC,EAAM,MACpBI,EAAIzB,UAAU2B,IAAI,UAClBN,EAAKnB,aAAa,iBAAiB,GACnCsB,EAAWtB,aAAa,eAAe,KAGzC0B,OAAOnC,QAAUA","file":"tabs.min.js","sourcesContent":["// jshint esversion: 6\n\n(function() {\n\n  const each = function(el, cb) {\n    for (let i = 0; i < el.length; i++) {\n      if (cb.call(this, i, el[i]) === false) {\n        break;\n      }\n    }\n  };\n\n  const closest = function(el, what) {\n    let newel = el;\n    what = what.toUpperCase();\n\n    do {\n      newel = newel.parentNode;\n\n      if (!newel) {\n        break;\n      }\n    } while (newel.nodeName !== what);\n\n    return newel;\n  };\n\n  const Tablist = function(ul) {\n    const my = this;\n\n    this.ul = ul;\n    this.lis = this.ul.getElementsByTagName('li');\n    this.tabs = this.ul.querySelectorAll('[role=\"tab\"]');\n\n\n    each(this.lis, (i, el) => {\n      if (!el.classList.contains('active')) {\n        let c = el.querySelectorAll('[role=\"tab\"]');\n\n        if (!c || !c.length) {\n          return;\n        }\n\n        c = c[0];\n        c.setAttribute('aria-selected', false);\n        c = c.getAttribute('aria-controls');\n\n        let t = document.getElementById(c);\n        t.setAttribute('aria-hidden', true);\n      }\n    });\n\n\n    each(this.tabs, (i, el) => {\n      el.addEventListener('click', function(e) {\n        e.preventDefault();\n        my.swapTab(this.getAttribute('aria-controls'));\n        return false;\n      }, false);\n    });\n  };\n\n  Tablist.prototype.getTabByName = function (name) {\n    let tab;\n\n    each(this.tabs, (i, el) => {\n      const tid = el.getAttribute('id').substring(4);\n      if (tid === name) {\n        tab = el;\n        return false;\n      }\n    });\n\n    return tab;\n  };\n\n  Tablist.prototype.swapTab = function(which) {\n    const cur = this.ul.querySelector('[aria-selected=\"true\"]');\n    const newt = this.ul.querySelector('[aria-controls=' + which + ']');\n\n    if (newt.length === 0) {\n      return;\n    }\n\n    if (cur.length) {\n      let curb = cur.getAttribute('aria-controls');\n\n      if (curb === which) {\n        return false;\n      }\n    }\n\n    const cur_target = document.querySelector('[id=' + cur.getAttribute('aria-controls') + ']');\n    const new_target = document.querySelector('[id=' + newt.getAttribute('aria-controls') + ']');\n\n    let tmp = closest(cur, 'li');\n    tmp.classList.remove('active');\n    cur.setAttribute('aria-selected', false);\n    cur_target.setAttribute('aria-hidden', true);\n\n    tmp = closest(newt, 'li');\n    tmp.classList.add('active');\n    newt.setAttribute('aria-selected', true);\n    new_target.setAttribute('aria-hidden', false);\n  };\n\n  window.Tablist = Tablist;\n\n}());\n"]}