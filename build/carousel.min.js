"use strict";!function(t){var i=t.console.log,e=function(){return{getByClass:function(t,i,e){var s=t.getElementsByClassName(i);if(e&&s.length)return s[0];if(s.length)return s},getByTag:function(t,i,e){var s=t.getElementsByTagName(i);return e&&s&&s.length?s[0]:s},mkel:function(t,i){var e=document.createElement(t);if(i){var s=!0,a=!1,n=void 0;try{for(var r,o=Object.keys(i)[Symbol.iterator]();!(s=(r=o.next()).done);s=!0){var c=r.value;e.setAttribute(c,i[c])}}catch(t){a=!0,n=t}finally{try{!s&&o.return&&o.return()}finally{if(a)throw n}}}return e}}}(),s=function t(i){this.config={delay:8e3,transition:"slide"},this.element=i,this.useIndicators=void 0!==i.dataset.carouselIndicators,this.indicators=[],this.slider=e.getByClass(i,"carousel-slider",!0),this.items=[],this.ivalId=null,this.currPos=0;var s=e.getByClass(this.slider,"carousel-item"),a=!0,n=!1,r=void 0;try{for(var o,c=s[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var l=o.value;this.items.push(new t.Item(l))}}catch(t){n=!0,r=t}finally{try{!a&&c.return&&c.return()}finally{if(n)throw r}}i.dataset.carouselDelay&&(this.config.delay=parseInt(i.dataset.carouselDelay,10)),i.dataset.carouselTransition&&(this.config.transition=i.dataset.carouselTransition),this.items.length&&this.items[0].load(),this.items.length>1&&(this.items[1].load(),this._makeIndicators()),this.play()};s.Item=function(t){this.img=e.getByTag(t,"img",!0),this.element=t,this.isLoaded=!1,this.src=this.img.dataset.carouselSrc,this.img.style.display="none"},s.Item.prototype.load=function(){var t=this;this.img.setAttribute("src",this.src),this.img.onload=function(i){t.element.style.backgroundImage="url("+t.src+")",t.isLoaded=!0}},s.prototype.play=function(){this.ivalId&&clearTimeout(this.ivalId);var t=this;this.ivalId=setTimeout(function(){t.next(),t.play()},this.config.delay)},s.prototype.next=function(){this.currPos+=1,this.currPos>=this.items.length?this.currPos=0:this._loadIfNecessary(this.currPos+1),this.goto(this.currPos)},s.prototype.goto=function(t){i("gotot: ",t),t<0||t>=this.items.length||(clearTimeout(this.ivalId),this._loadIfNecessary(t),this.setIndicator(t),this.slider.dataset.carouselPos=t,this.currPos=t,this.play())},s.prototype._loadIfNecessary=function(t){t>=0&&t<this.items.length&&(this.items[t].isLoaded||this.items[t].load())},s.prototype._makeIndicators=function(){var t=this;if(this.useIndicators&&!(this.items.length<2)){var a=e.getByClass(this.element,"carousel-indicators",!0),n=[];a||(a=e.mkel("div",{class:"carousel-indicators"}),i("Ind: ",a)),this.items.forEach(function(i){var e=new s.Indicator(t,n.length);a.appendChild(e.btn),n.push(e)}),n[0].activate(),this.element.appendChild(a),this.indicators=n}},s.prototype.setIndicator=function(t){return!this.useIndicators||this.items.length<2?void i("No indicators",this.useIndicators,this.items.length):(void 0===t&&(t=this.currPos),this.currPos=t,this.indicators.forEach(function(t){t.deActivate()}),void this.indicators[t].activate())},s.Indicator=function(t,i){var s=this;this.index=i,this.owner=t,this.btn=e.mkel("a",{class:"carousel-indicator"}),this.btn.appendChild(e.mkel("span",{class:"carousel-indicator-inner"})),this.btn.addEventListener("click",function(t){s.owner.goto(s.index)},!0)},s.Indicator.prototype.activate=function(){this.btn.classList.add("carousel-indicator-active")},s.Indicator.prototype.deActivate=function(){this.btn.classList.remove("carousel-indicator-active")},t.addEventListener("DOMContentLoaded",function(t){var i=document.getElementsByClassName("carousel");if(i.length){var e=!0,a=!1,n=void 0;try{for(var r,o=i[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var c=r.value;new s(c)}}catch(t){a=!0,n=t}finally{try{!e&&o.return&&o.return()}finally{if(a)throw n}}}})}(window);