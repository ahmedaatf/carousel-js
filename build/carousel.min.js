"use strict";!function(t,i,s){var e=(t.console.log,"ontouchstart"in t||s.maxTouchPoints>0||s.msMaxTouchPoints>0),a=function(){var t=this;return{getByClass:function(t,i,s){var e=t.getElementsByClassName(i);return s&&e.length?e[0]:e.length&&e||void 0},getByTag:function(t,i,s){var e=t.getElementsByTagName(i);return s&&e&&e.length?e[0]:e},mkel:function(t,s){var e=i.createElement(t);if(s)for(var a=Object.keys(s),o=0;o<a.length;o++)e.setAttribute(a[o],s[a[o]]);return e},each:function(i,s){for(var e=0;e<i.length;e++)s.call(t,i[e])}}}();e&&a.getByTag(i,"html",!0).classList.add("carousel-istouch");var o=function t(i){var s=this;this.config={delay:8e3,transition:"slide"},this.element=i,this.useIndicators=void 0!==i.dataset.carouselIndicators,this.indicators=[],this.slider=a.getByClass(i,"carousel-slider",!0),this.items=[],this.ivalId=null,this.currPos=0;var e=a.getByClass(this.slider,"carousel-item");a.each(e,function(i){s.items.push(new t.Item(i))}),i.dataset.carouselDelay&&(this.config.delay=parseInt(i.dataset.carouselDelay,10)),i.dataset.carouselTransition&&(this.config.transition=i.dataset.carouselTransition),this.items.length&&this.items[0].load(),this.items.length>1&&(this.items[1].load(),this._makeIndicators()),this.play()};o.Item=function(i){this.mediaQueries={},this.img=a.getByTag(i,"img",!0),this.element=i,this.isLoaded=!1,this.collectMediaSizes(),this.src=null;for(var s=Object.keys(this.mediaQueries).sort(),e=void 0,o=0;o<s.length;o++)if(e=s[o],t.matchMedia(e).matches){this.src=this.mediaQueries[e];break}this.src||(this.src=this.img.dataset.carouselSrc),this.img.style.display="none"},o.Item.prototype.collectMediaSizes=function(){var t=void 0;for(var i in this.img.dataset)t=i.match(/Mq-(\d+)$/),t&&(this.mediaQueries["(max-width: "+t[1]+"px)"]=this.img.dataset[i])},o.Item.prototype.load=function(){var t=this;this.img.setAttribute("src",this.src),this.img.onload=function(){t.element.style.backgroundImage="url("+t.src+")",t.isLoaded=!0}},o.prototype.play=function(){this.ivalId&&clearTimeout(this.ivalId);var t=this;this.ivalId=setTimeout(function(){t.next(),t.play()},this.config.delay)},o.prototype.next=function(){this.currPos+=1,this.currPos>=this.items.length?this.currPos=0:this._loadIfNecessary(this.currPos+1),this.goto(this.currPos)},o.prototype.goto=function(t){t<0||t>=this.items.length||(clearTimeout(this.ivalId),this._loadIfNecessary(t),this.setIndicator(t),this.slider.dataset.carouselPos=t,this.currPos=t,this.play())},o.prototype._loadIfNecessary=function(t){t>=0&&t<this.items.length&&(this.items[t].isLoaded||this.items[t].load())},o.prototype._makeIndicators=function(){var t=this;if(this.useIndicators&&!(this.items.length<2)){var i=a.getByClass(this.element,"carousel-indicators",!0),s=[];i||(i=a.mkel("div",{class:"carousel-indicators"})),this.items.forEach(function(){var e=new o.Indicator(t,s.length);i.appendChild(e.btn),s.push(e)}),s[0].activate(),this.element.appendChild(i),this.indicators=s}},o.prototype.setIndicator=function(t){!this.useIndicators||this.items.length<2||(void 0===t&&(t=this.currPos),this.currPos=t,this.indicators.forEach(function(t){t.deActivate()}),this.indicators[t].activate())},o.Indicator=function(t,i){var s=this;this.index=i,this.owner=t,this.btn=a.mkel("a",{class:"carousel-indicator"}),this.btn.appendChild(a.mkel("span",{class:"carousel-indicator-inner"})),this.btn.addEventListener("click",function(){s.owner.goto(s.index)},!0)},o.Indicator.prototype.activate=function(){this.btn.classList.add("carousel-indicator-active")},o.Indicator.prototype.deActivate=function(){this.btn.classList.remove("carousel-indicator-active")},t.addEventListener("DOMContentLoaded",function(){var t=a.getByClass(i,"carousel");t.length&&a.each(t,function(t){new o(t)})})}(window,document,window.navigator);